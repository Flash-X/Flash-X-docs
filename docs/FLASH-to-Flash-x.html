<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Converting from FLASH to Flash-X &mdash; Flash-X 0.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Flash-X
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="disclaimers.html">Current Status and Disclaimers</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="arch.html">Overview of Flash-X architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">The Flash-X configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="driver.html">Driver Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">Physics Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitor.html">Monitor Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Flash-X</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Converting from FLASH to Flash-X</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/FLASH-to-Flash-x.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="converting-from-flash-to-flash-x">
<span id="sec-converting"></span><h1>Converting from FLASH to Flash-X<a class="headerlink" href="#converting-from-flash-to-flash-x" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>Converting FLASH source to Flash-X source so that it can build with basic functionality is relatively straightforward if advanced features of the software system are not to be used. Many low level routines will compile without any modifications. However, several commonly used interfaces have changed, and iterators are used for looping over blocks. At the end of the chapter we list most commonly used Grid accessor functions that have changed. Some commonly repeated patterns have macros defined for them that are also listed at the end, with the description of functionality they provide.</p>
<p>In FLASH, following code lines appear in a file that has looping over blocks:</p>
<div class="codeseg docutils container">
<p>use Grid_interface, ONLY: Grid_getListofBlocks, Grid_getBlkLimits
!! some more use statements</p>
<p>integer :: blockCount, blockList(MAXBLOCKS), blockType
integer, dimension(LOW:HIGH,MDIM) :: blkLimits, blkLimitsGC
real, dimension(MDIM):: deltas
!! some more declarations</p>
<p>call Grid_getListofBlocks(blockCount,blockList,blockType)
do i = 1,blockcount</p>
<blockquote>
<div><p>blockid=blockList(i)
call Grid_getBlkLimits(blockid,blkLimits,blkLimitsGC)
call Grid_getDeltas(blockid,deltas)</p>
<p>!! some code for operating on the block</p>
</div></blockquote>
<p>end do</p>
</div>
<p>In Flash-X Grid_getListofBlocks does not exist. The code lines that provide the same functionality are</p>
<div class="codeseg docutils container">
<p>use Grid_interface, ONLY : Grid_getTileIterator, Grid_releaseTileIterator
use Grid_tile,         ONLY : Grid_tile_t
use Grid_iterator,     ONLY : Grid_iterator_t
!! use statements unchanged</p>
<p>type(Grid_iterator_t) :: itor
type(Grid_tile_t) :: tileDesc
!! declarations unchaged</p>
</div>
<p>Additionally, bounds for a block are based on global view instead of local view that FLASH used.</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Flash-X Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>