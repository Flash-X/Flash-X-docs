<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH-X: source/Grid/Grid_makeVector.F90 File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../flash-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLASH-X
   </div>
   <div id="projectbrief">Doxygen Generated Documentation From Interface Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../dir_f636fe1aaafd6114c78ff18cf7dc516e.html">Grid</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Grid_makeVector.F90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="../../d6/df2/Grid__makeVector_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ab9d42fde8cfa62b7a39f4be039307a44"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/df2/Grid__makeVector_8F90.html#ab9d42fde8cfa62b7a39f4be039307a44">Grid_makeVector</a> (vecLen, numVars, newVec, numVec, vecLastFree, copyDirection, gridDataStruct)</td></tr>
<tr class="separator:ab9d42fde8cfa62b7a39f4be039307a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ab9d42fde8cfa62b7a39f4be039307a44" name="ab9d42fde8cfa62b7a39f4be039307a44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d42fde8cfa62b7a39f4be039307a44">&#9670;&nbsp;</a></span>Grid_makeVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine Grid_makeVector </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>vecLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>numVars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>newVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>numVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>vecLastFree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>copyDirection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>gridDataStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This routine converts solution data organized as blocks into a collection of vectors.</p>
<p >The length of the vector is an input "vecLen", which can be smaller or bigger in size than the data contained in one block. The value will typically be dictated by the constraints of the target hardware. The value "numVec" is the number of vectors that will be generated from flattening of N blocks. Its value is N * oneBlockSize / vecLen. The newly generated vectors are stored in newVec, which is in this version a 3D array. Part of the exercise is to determine if it should be a 2D or 3D array and what should be the data layout for different variables. Should variable be the leading dimension or should space be the leading dimension.</p>
<p >vecLen : the length of vector into which solution data needs to be converted numVars : number of variables per cell that are stored in newVec. For use with the Eos unit as in this example, this should be = EOS_NUM. newVec : storage for newly generated vectors. The repackaged (and Eos_getData-preprocessed) data is returned here, ready to call Eos on. numVec : number of vectors (of numVars variables each) to be generated from all that data contained in all blocks. On return, numVec may be modified (lowered) so it counts only vectors actually used. vecLastFree : If this optional argument is present, it will on return contain a count of free (unused) positions of the last vector. That is, the valid vectors returned consist of newVec(1:vecLen            ,:,ivec) , ivec=1,numVec-1 , newVec(1:vecLen-vecLastFree,:,numVec); where numVec is the count of vectors returned (possibly lowered). If the argument is not present, no indication of incomplete vectors is provided to the caller. If returning all blockdata as vectors would overflow the available space in newVec, then vecLastFree (if present) will be set to -1 to indicate this condition. copyDirection : Direction of data transfer. Use GRID_COPYDIR_TO_VECT to tranfer data from Grid blocks to vectors (default); use GRID_COPYDIR_FROM_VECT to tranfer data from vectors back to Grid blocks. gridDataStruct : whether cell centered, face centered etc. (may be deprecated later). Should be CENTER if present. FLASH does not require support for marshalling other datastructs (FACEX, etc.) for Eos calls.</p>
<p >NOTES</p>
<p >This is for demonstration, it may or may not work.</p>
<p >GRID_COPYDIR_TO_VECT and GRID_COPYDIR_FROM_VECT are defined in <a class="el" href="../../dd/d25/Grid__interface_8F90.html">Grid_interface.F90</a> .</p>
<p >SEE ALSO</p>
<p >Eos_getData Eos_putData Eos <a class="el" href="../../d2/d3a/namespaceGrid__interface.html">Grid_interface</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d6/df2/Grid__makeVector_8F90_source.html#l00078">78</a> of file <a class="el" href="../../d6/df2/Grid__makeVector_8F90_source.html">Grid_makeVector.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 4 2022 17:05:05 for FLASH-X by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
