<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH-X: source/Grid/Grid_markRefineDerefine.F90 File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../flash-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLASH-X
   </div>
   <div id="projectbrief">Doxygen Generated Documentation From Interface Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../dir_f636fe1aaafd6114c78ff18cf7dc516e.html">Grid</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Grid_markRefineDerefine.F90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="../../d9/d04/Grid__markRefineDerefine_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a8f9179002dfbf88d0a363b74255b97dc"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d04/Grid__markRefineDerefine_8F90.html#a8f9179002dfbf88d0a363b74255b97dc">Grid_markRefineDerefine</a> ()</td></tr>
<tr class="separator:a8f9179002dfbf88d0a363b74255b97dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a8f9179002dfbf88d0a363b74255b97dc" name="a8f9179002dfbf88d0a363b74255b97dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f9179002dfbf88d0a363b74255b97dc">&#9670;&nbsp;</a></span>Grid_markRefineDerefine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine Grid_markRefineDerefine</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Mark blocks for refinement or derefinement This routine is used with AMR only where individual blocks are marked for refinement or derefinement based upon some refinement criterion. The Uniform Grid does not need this routine, and uses the stub. The AMReX-based Grid currently does not understand this way of implementing refinement criteria either, and uses callbacks instead, which are implemented as private functions of the Grid unit.</p>
<p >With the PARAMESH-based Grid implementation, this routine is normally called by the implementation of Grid_updateRefinement. It may also get called repeatedly during the initial construction of the Grid from Grid_initDomain.</p>
<p >none</p>
<p >SIDE EFFECTS</p>
<p >This routine works by modifying the global (processor-local) flag arrays newchild, refine, derefine, stay imported from the AMR implementation.</p>
<p >NOTES</p>
<p >The default implementation of this routine uses the Flash runtime parameters refine_var_{1,2,3,4}, refine_cutoff_{1,2,3,4}, derefine_cutoff_{1,2,3,4}, and refine_filter_{1,2,3,4} to determine refinement.</p>
<p >A non-directional guardcell fill for all CENTER variables that are referenced by any of those refine_var_# runtime parameters (including EOS calls for guardcells, if any refinement variables refine_var_# require them to be current) is performed in the default implementation of this routine. Since the checking of refinement criteria may reference the values of some variables in inactive blocks, the caller of Grid_markRefineDerefine should ensure that those inactive blocks have values that are up to date (at least for the variables to be used for refinement criteria); this is done by an explicit restriction call in the default APR implementation of Grid_updateRefinement.</p>
<p >Users creating their own implementation of this interface or of Grid_updateRefinement should make sure that the above remains true; that is, they should include the appropriate call(s) to Grid_fillGuardCells (and to a restriction routine if necessary) in their implementation.</p>
<p >SEE ALSO</p>
<p >Grid_updateRefinement Grid_initDomain Grid_fillGuardCells </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d04/Grid__markRefineDerefine_8F90_source.html#l00075">75</a> of file <a class="el" href="../../d9/d04/Grid__markRefineDerefine_8F90_source.html">Grid_markRefineDerefine.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 4 2022 17:05:05 for FLASH-X by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
