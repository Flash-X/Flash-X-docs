<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH-X: source/Multispecies/Multispecies_getAvg.F90 File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../flash-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLASH-X
   </div>
   <div id="projectbrief">Doxygen Generated Documentation From Interface Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../dir_31ad44e7ac94ec5ceeb4d22fd3e36fd6.html">Multispecies</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Multispecies_getAvg.F90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="../../db/d37/Multispecies__getAvg_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a5861806d6e125dbb338243b234e0c51c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d37/Multispecies__getAvg_8F90.html#a5861806d6e125dbb338243b234e0c51c">Multispecies_getAvg</a> (property, value, weights, speciesMask)</td></tr>
<tr class="separator:a5861806d6e125dbb338243b234e0c51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a5861806d6e125dbb338243b234e0c51c" name="a5861806d6e125dbb338243b234e0c51c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5861806d6e125dbb338243b234e0c51c">&#9670;&nbsp;</a></span>Multispecies_getAvg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine Multispecies_getAvg </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(out)&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>speciesMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Gets the weighted average value of a property for requested species. Avg = sum over species( weight * propertyValue) / (number of species)</p>
<p >The default is to return the average for all species. A user, however, by passing in the optional argument speciesMask can choose to include only species of interest.</p>
<p >speciesMask is an array of integers of size Number of Species (NSPECIES) in length. The speciesMask works inclusively, that is the user specifies species that should be _included_ in the average.</p>
<p >For example: in a given simulation there are 4 defined species NI56, CO61, MG23, FE51. They are defined in Simulation.h as NI56_SPEC, CO61_SPEC, MG23_SPEC, and FE51_SPEC respectively. If the user wants to get an average of just NI56 and FE51 then the user would pass in the speciesMask argument where</p>
<p >speciesMask(1) = NI56_SPEC speciesMask(2) = FE51_SPEC speciesMask(3) = UNDEFINED_INT speciesMask(4) = UNDEFINED_INT</p>
<p >Order does not matter, however the order of the weights array MUST be the same as the mask. For example, if the user wants NI56 weighted twice as heavily as FE51 in the previous example, he would set</p>
<p >weights(1) = 2.0 weights(2) = 1.0 weights(3) = UNDEFINED_REAL weights(4) = UNDEFINED_REAL</p>
<p >The property is an integer because it is defined in Multispecies.h description property(defined as integer in Multispecies.h) -------------------------------------------------------------- numTotal A Total number of protons and neutrons in nucleus numPositive Z Atomic number; number of protons in nucleus numNeutral N Number of neutrons numNegative E Number of electrons bindingEnergy EB Binding energy adiabatic index GAMMA Ratio of heat capacities: Cp / Cv</p>
<p >property - name of property, as an integer defined in Multispecies.h value - returned average value from routine weights - an optional array of length 1 or NSPECIES holding the weights for each species. If not provided, weight=1 is assumed. If a weights array of size 1 is provided, its value is applied to all species. speciesMask - an optional array of length NSPECIES specifying the wanted species for the average calculation If not provided, all species are used.</p>
<p >NOTES</p>
<p >Species properties are normally set in Simulation_initSpecies. The simulation's Config file defines the number and name of species, as in SPECIES AIR SPECIES SF6</p>
<p >EXAMPLE</p>
<p >subroutine <a class="el" href="../../d9/de3/Eos_8F90.html#ac47791ca23a30521b23c69ad375c24d6">Eos()</a> use Eos_data, ONLY: implicit none #include "Multispecies.h" .... declarations real, dimension(NSPECIES) :: weights integer, dimension(NSPECIES) :: mask .... executable statements call Multispecies_getAvg(A,value,weights,mask) ..... end subroutine Eos </p>

<p class="definition">Definition at line <a class="el" href="../../db/d37/Multispecies__getAvg_8F90_source.html#l00097">97</a> of file <a class="el" href="../../db/d37/Multispecies__getAvg_8F90_source.html">Multispecies_getAvg.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 4 2022 17:05:05 for FLASH-X by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
