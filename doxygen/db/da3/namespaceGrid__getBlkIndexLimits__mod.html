<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH-X: Grid_getBlkIndexLimits_mod Module Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../flash-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLASH-X
   </div>
   <div id="projectbrief">Doxygen Generated Documentation From Interface Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Grid_getBlkIndexLimits_mod Module Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ab94f9128b8ced02556e8aec9ac343395"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespaceGrid__getBlkIndexLimits__mod.html#ab94f9128b8ced02556e8aec9ac343395">Grid_getBlkIndexLimits</a> (blockId, blkLimits, blkLimitsGC, gridDataStruct)</td></tr>
<tr class="separator:ab94f9128b8ced02556e8aec9ac343395"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Returns the indices of the upper and lower bounds of a block. blkLimitsGC holds the entire dimension of the block (including guardcells) blkLimits returns the indices of the interior of the block.</p>
<p >The first dimension holds the lower and upper bounds of the block. The second dimension is of size MDIM to hold the upper and lower indices of each dimension.</p>
<p >This routine is also used to calculate the size of the internal index size of a block. In FLASH2, this was simply NXB, NYB and NZB. In FLASH3, since we are supporting blocksizes that are not fixed you should calculate on the size of the block on a per block basis. See example below.</p>
<p >Please note that the face centered variables have an extra data point along the corresponding dimension. For example variable centered on the faces along IAXIS dimension have equivalent of NXB+1 data points in the interior. If the optional argument gridDataStruct is specified, and it is one of the face-centered data structures, the values returned in the the two output arrays will reflect the additional data point. Since most of FLASH applications use only cell centered variable, most users need not concern themselves with this argument.</p>
<p >blockId - the local blockID blkLimits - array returned holding the upper and lower indices of the interior of a block (no guardcells!)</p>
<p >blkLimitsGC - array returned holding the upper and lower indices of an entire block, that is, including guardcells. gridDataStruct - Grid data structure being operated on, the valid values are CENTER, CENTER_FACES, FACEX, FACEY, and FACEZ. Specifying gridDataStructure= CENTER or CENTER_FACES is equivalent to not including the optional argument in the call.</p>
<p >EXAMPLE</p>
<p >Take a 2 dimensional block of size NXB x NYB, with ghost cells along each dimension being GX and GY. This block could be stored in an array of size (NXB+2*GX,NYB+2*GY). For this array the returned values of blkLimits and blkLimitsGC are as follows.</p>
<p >blkLimitsGC(LOW, IAXIS) = 1 !lower bound index of the first cell in the entire block in xdir blkLimitsGC(LOW, JAXIS) = 1 blkLimitsGC(LOW, KAXIS) = 1</p>
<p >blkLimitsGC(HIGH, IAXIS) = NXB+2*GX !upper bound index of the last cell in the entire block in xdir blkLimitsGC(HIGH, JAXIS) = NYB +2*GY blkLimitsGC(HIGH, KAXIS) = 1 !because there are only 2 dimensions</p>
<p >blkLimits(LOW, IAXIS) = GX+1 !lower bound index of the first interior cell of a block in xdir blkLimits(LOW, JAXIS) = GY+1 blkLimits(LOW, KAXIS) = 1</p>
<p >blkLimits(HIGH, IAXIS) = NXB+GX !the upper bound index of the last interior cell of a block in xdir blkLimits(HIGH, JAXIS) = NYB+GY blkLimits(HIGH, KAXIS) = 1 !because there are only 2 dimensions</p>
<p >For the same block, if the Optional argument was present and was FACEX, then blkLimits(HIGH,IAXIS)=NXB+1, and blkLimitsGC(HIGH,IAXIS)=NXB+1+2*GX, and all other values of blkLimits and blkLimitsGC are the same as those of the default case. Similarly if optional argument had a value FACEY, then blkLimits(HIGH,JAXIS)=NYB+1, and blkLimitsGC(HIGH,JAXIS)=NYB+1+2*GY, and all others are same as before.</p>
<p >To calculate NXB, NYB and NZB for a given block</p>
<p >NXB = blkLimits(HIGH,IAXIS) - blkLimits(LOW,IAXIS) +1 NYB = blkLimits(HIGH,JAXIS) - blkLimits(LOW,JAXIS) +1 NZB = blkLimits(HIGH,KAXIS) - blkLimits(LOW,KAXIS) +1</p>
<p >NOTES</p>
<p >DEV: Currently only implemented correctly for Paramesh4 and UG!</p>
<p >DEV: The indices returned may be according to the "native" convention of the AMrex or UG Grid, rather than the regular Flash-X level-wide convention!</p>
<p >The #define constants IAXIS, JAXIS and KAXIS are defined in constants.h and are meant to ease the readability of the code. instead of blkLimits(HIGH,3) the code reads blkLimits(HIGH, KAXIS) </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ab94f9128b8ced02556e8aec9ac343395" name="ab94f9128b8ced02556e8aec9ac343395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab94f9128b8ced02556e8aec9ac343395">&#9670;&nbsp;</a></span>Grid_getBlkIndexLimits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine Grid_getBlkIndexLimits_mod::Grid_getBlkIndexLimits </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>blockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>blkLimits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>blkLimitsGC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>gridDataStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d0a/Grid__getBlkIndexLimits_8F90_source.html#l00113">113</a> of file <a class="el" href="../../d3/d0a/Grid__getBlkIndexLimits_8F90_source.html">Grid_getBlkIndexLimits.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 4 2022 17:05:05 for FLASH-X by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
