<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH-X: source/Particles/Particles_manageLost.F90 File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../flash-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLASH-X
   </div>
   <div id="projectbrief">Doxygen Generated Documentation From Interface Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../dir_2af15aa9b35c49552fcb7908daccae6e.html">Particles</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Particles_manageLost.F90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="../../d8/d5a/Particles__manageLost_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a4533e68148643c2bef246298187adaaf"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d5a/Particles__manageLost_8F90.html#a4533e68148643c2bef246298187adaaf">Particles_manageLost</a> (mode)</td></tr>
<tr class="separator:a4533e68148643c2bef246298187adaaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a4533e68148643c2bef246298187adaaf" name="a4533e68148643c2bef246298187adaaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4533e68148643c2bef246298187adaaf">&#9670;&nbsp;</a></span>Particles_manageLost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine Particles_manageLost </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This routine is devised to facilitate keeping around particles even after they leave the physical domain. A runtime parameter "pt_keepLostParticles", when true triggers this behavior. These particles need special handling because they should not advance in time, or be mapped to or from the grid. We do this by assigning a value "LOST" (defined in constants.h) to the associated block number, and moving them to the end of the particles data structure. They are not counted in pt_numLocal, which is the local particles count, when processing (time advance, mapping or force computations), but need to be temporarily included for IO. This is the routine that allows the temporary inclusion by appending "LOST" particles at the end of the active particles list before writing, and moving them back at the end of the data structure after writing.</p>
<p >mode &ndash; indicates whether the "LOST" particles are appended at the end of active list of moved away from there</p>
<p >EXAMPLE &ndash; if pt_maxPerProc=1000 (the size of the particles data structure on a processor), count of particles still in the domain is 250, and the number of particles that have left the domain is 20, then for processing pt_numLocal=250, and the indices 981:1000 in the particles data structure {particles(:,981:1000)} hold the lost particles with pt_numLost=20. When this routine is invoked with pt_keepLostParticles=.true. then the following operations are performed : if mode==PART_EXPAND particles(:,251:270)=particles(:,981:1000); pt_numLocal=270 if mode==PART_COLLAPSE particles(:,981:1000)=particles(:,251:270); pt_numLocal=250 When pt_keepLostParticles=.false. the routine returns without performing any operations. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d5a/Particles__manageLost_8F90_source.html#l00052">52</a> of file <a class="el" href="../../d8/d5a/Particles__manageLost_8F90_source.html">Particles_manageLost.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 4 2022 17:05:05 for FLASH-X by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
