<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH-X: source/Grid/Grid_getBlkCornerID.F90 File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../flash-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLASH-X
   </div>
   <div id="projectbrief">Doxygen Generated Documentation From Interface Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../dir_f636fe1aaafd6114c78ff18cf7dc516e.html">Grid</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Grid_getBlkCornerID.F90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="../../df/d61/Grid__getBlkCornerID_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a8c5eb2c26616ac15762e7b7025225fa0"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d61/Grid__getBlkCornerID_8F90.html#a8c5eb2c26616ac15762e7b7025225fa0">Grid_getBlkCornerID</a> (blockId, cornerID, stride, cornerIDHigh, inRegion)</td></tr>
<tr class="separator:a8c5eb2c26616ac15762e7b7025225fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a8c5eb2c26616ac15762e7b7025225fa0" name="a8c5eb2c26616ac15762e7b7025225fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c5eb2c26616ac15762e7b7025225fa0">&#9670;&nbsp;</a></span>Grid_getBlkCornerID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine Grid_getBlkCornerID </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>blockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>cornerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(MDIM)&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>cornerIDHigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>inRegion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the global integer indices of the left most interior zone of the block and the stride of indices along each dimension. Together the cornerID and the stride make a unique identifier for each block on the grid.</p>
<p >The block's cornerID is determined by calculating the global integer index of each cell on the global domain as if the grid were fully refined. (The uniform grid is like a fully refined grid when calculating the cornerID.) Another way to put it is that the cornerID is just the left most interior cell global index of a block in a dimension, as if the grid were fully refined.</p>
<p >stride is defined as = 2**(lrefine_max - lrefine(blockId)) and indicates the spacing factor between one cell and one directly to its right when calculating the cornerID.</p>
<p >This means that if a block is at the highest refinement level, then it will always have a stride = 1 and the cornerID of the block to the current block's right will always be cornerID plus the index size of the block(NXB with fixed block sizes). (The uniform grid always has a stride = 1.)</p>
<p >CornerID counting starts at 1 and only the interior cells (no guardcells) are used to calculate the cornerID.</p>
<p >blockId :: the local blockID cornerID :: global integer indices of start of the interior zone of the block</p>
<p >stride :: spacing factor between indices. In UG, stride is always = 1. For PARAMESH, stride may be more than 1, depending on how far down you are in the tree. cornerIDHigh :: global integer indices of the last interior zone of the block</p>
<p >inRegion :: if present and true, the corner ID is computed relative to the region defined by the Grid scope variable gr_region in presence of AMR</p>
<p >NOTES</p>
<p >DEV: Currently only implemented correctly for Paramesh4 and UG!</p>
<p >EXAMPLE</p>
<p >Example 1: In a 1 dimensional UG case with 2 blocks and nxb=8 The cornerID for block 1 = 1 and the cornerID for block 2 = 9</p>
<p >Example 2: In a 1 dimensional PARAMESH case with lrefine_max = 4, nxb=8, the global indices range from 1:64. If the grid is fully refined then there are 8 blocks in the x direction and their cornerIDs are 1,9,17,25,33,41,49,57 respectively. stride=1</p>
<p >If the entire grid is at a refinement level = 3 then there are 4 blocks in the x direction and their cornerIDs are 1,17,33,49 respectively. stride = 2</p>
<p >If the entire grid is at a refinement level = 2 then there are 2 blocks in the x direction and their cornerIDs are 1,33 respectively. stride = 4 (meaning it takes stride*nxb to get to the next block's cornerID)</p>
<p >And so on.</p>
<p >Multiple blocks can have the same cornerID as in the above example, but they can not have the same cornerID AND stride. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d61/Grid__getBlkCornerID_8F90_source.html#l00090">90</a> of file <a class="el" href="../../df/d61/Grid__getBlkCornerID_8F90_source.html">Grid_getBlkCornerID.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 4 2022 17:05:05 for FLASH-X by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
