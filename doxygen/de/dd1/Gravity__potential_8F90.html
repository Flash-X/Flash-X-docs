<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLASH-X: source/physics/Gravity/Gravity_potential.F90 File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../flash-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FLASH-X
   </div>
   <div id="projectbrief">Doxygen Generated Documentation From Interface Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../dir_0bb6fb3955098fc73677280bd611af3b.html">physics</a></li><li class="navelem"><a class="el" href="../../dir_a94fcff6021e2c519546345d5fbba9ab.html">Gravity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Gravity_potential.F90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="../../de/dd1/Gravity__potential_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a35719842166d94fbd6879e5c89623e46"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd1/Gravity__potential_8F90.html#a35719842166d94fbd6879e5c89623e46">Gravity_potential</a> (potentialIndex)</td></tr>
<tr class="separator:a35719842166d94fbd6879e5c89623e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a35719842166d94fbd6879e5c89623e46" name="a35719842166d94fbd6879e5c89623e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35719842166d94fbd6879e5c89623e46">&#9670;&nbsp;</a></span>Gravity_potential()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine Gravity_potential </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>potentialIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This routine computes the gravitational potential on all blocks specified in the list, for the gravity implementations (i.e., various Poisson implementations), which make use of it in computing the gravitational acceleration.</p>
<p >The resulting potential can be considered as zone-averaged.</p>
<p >Supported boundary conditions are isolated (0) and periodic (1). The same boundary conditions are applied in all directions. For some implementation of Gravity, in particular with Barnes-Hut tee solver, additional combinations of boundary conditions may be supported.</p>
<p >potentialIndex : If present, determines which variable in UNK to use for storing the updated potential. If not present, GPOT_VAR is assumed. Presence or absense of this optional dummy argument also determines whether some side effects are enabled or disabled; see discussion of two modes under NOTES below.</p>
<p >NOTES</p>
<p >Gravity_potential can operate in one of two modes: * automatic mode - when called without the optional potentialIndex. Such a call will usually be made once per time step, usually from the main time advancement loop in Driver_evolveAll. Various side effects are enabled in this mode, see SIDE EFFECT below.</p>
<p >* explicit mode - when called with the optional potentialIndex. The potential is stored in the variable explicitly given, and side effects like saving the previous potential in GPOL_VAR and updating some sink particle state and properties are suppressed.</p>
<p >This call does nothing for those Gravity implementations provided with FLASH that just provide a given (time-independent) potential for other physics modules and don't compute the potential by invoking a solver: Constant, PointMass, and PlanePar.</p>
<p >SIDE EFFECTS</p>
<p >Updates certain variables in permanent UNK storage to contain the gravitational potential. Invokes a solver (of the Poisson equation) if necessary. On return, if potentialIndex is not present, GPOT_VAR: contains potential for the current simulation time. GPOL_VAR (if defined): contains potential at the previous simulation time. On return, if potentialIndex is present, the UNK variable given by potentialIndex contains the newly computed potential.</p>
<p >May affect other variables related to particle properties if particles are included in the simulation. In particular, PDEN_VAR (if defined): may get updated to the current density from particles if particles have mass.</p>
<p >There are additional side effects if sink particles are used. These effects happen by calls to Particles_sinkAccelGasOnSinks and Particles_sinkAccelSinksOnGas, which may update sink particle properties and additional UNK variables that store accelerations. The calls are only made in automatic mode.</p>
<p >May modify certain variables used for intermediate results by the solvers invoked. The list of variables depends on the Gravity implementation. The following information is subject to change without notice. For the Multigrid implementation: ISLS_VAR (residual) ICOR_VAR (correction) IMGM_VAR (image mass) IMGP_VAR (image potential) For the Multipole implementation: (none) </p>

<p class="definition">Definition at line <a class="el" href="../../de/dd1/Gravity__potential_8F90_source.html#l00092">92</a> of file <a class="el" href="../../de/dd1/Gravity__potential_8F90_source.html">Gravity_potential.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 4 2022 17:05:05 for FLASH-X by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
